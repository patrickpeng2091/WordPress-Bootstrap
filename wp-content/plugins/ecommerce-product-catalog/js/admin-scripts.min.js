/*!
 impleCode Admin scripts
 Adds appropriate scripts to admin settings
 (c) 2017 impleCode - https://implecode.com
 */

jQuery( document ).ready( function( ){jQuery( ".ic_chosen" ).chosen( ), jQuery( ".sort-settings tbody" ).sortable( {items:"tr:not(.ic-not-sortable)", update:function( ){jQuery( ".sort-settings tbody tr" ).each( function( ){var e = jQuery( this ).index( ); jQuery( this ).find( "td .attribute-label" ).attr( "name", "_attribute-label" + e ), jQuery( this ).find( "td .attribute-value" ).attr( "name", "_attribute" + e ), jQuery( this ).find( "td .attribute-unit" ).attr( "name", "_attribute-unit" + e ), e += 1, jQuery( this ).find( "td .shipping-label" ).attr( "name", "_shipping-label" + e ), jQuery( this ).find( "td .shipping-value" ).attr( "name", "_shipping" + e )} )}, helper:function( e, i ){return i.children( ).each( function( ){jQuery( this ).width( jQuery( this ).width( ) )} ), i}, placeholder:"sort-settings-placeholder"} ); var e = new Array( 'input[name="archive_multiple_settings[category_archive_url]"]', 'input[name="archive_multiple_settings[seo_title]"]', 'input[name="archive_multiple_settings[seo_title_sep]"]', 'input[name="archive_multiple_settings[breadcrumbs_title]"]', 'input[name="archive_multiple_settings[enable_product_breadcrumbs]"]', 'input[name="archive_multiple_settings[product_listing_cats]"]', 'input[name="archive_multiple_settings[category_top_cats]"]', 'input[name="archive_multiple_settings[cat_template]"]' ); jQuery( ".integration-mode-selection" ).change( function( ){var i = !1; jQuery( this ).is( ":checked" ) && "simple" == jQuery( this ).val( ) && ( i = !0 ), jQuery( this ).is( ":checked" ) && ( i?( jQuery( ".advanced_mode_settings" ).hide( ), jQuery( ".simple_mode_settings" ).show( "slow" ), jQuery.each( e, function( e, i ){jQuery( i ).closest( "tr" ).hide( )} ) ):( jQuery( ".simple_mode_settings" ).hide( "slow" ), jQuery( ".advanced_mode_settings" ).show( ), jQuery.each( e, function( e, i ){jQuery( i ).closest( "tr" ).show( )} ) ) )} ), jQuery( ".integration-mode-selection" ).trigger( "change" ), jQuery( ".implecode-review .dashicons-no" ).click( function( ){var e = {action:"hide_review_notice"}; jQuery.post( ajaxurl, e, function( e ){jQuery( ".implecode-review" ).hide( "slow" )} )} ), jQuery( ".implecode-translate .dashicons-no" ).click( function( ){var e = {action:"hide_translate_notice"}; jQuery.post( ajaxurl, e, function( e ){jQuery( ".implecode-translate" ).hide( "slow" )} )} ), jQuery( ".implecode-review-thanks .dashicons-yes" ).click( function( ){jQuery( ".implecode-review-thanks" ).hide( "slow" )} ), jQuery( ".implecode-review a" ).click( function( e ){if ( jQuery( this ).hasClass( "button" ) ){e.preventDefault( ); i = {action:"hide_review_notice", forever:"yes"}; jQuery.post( ajaxurl, i, function( e ){jQuery( ".implecode-review" ).hide( "slow" )} )} else{var i = {action:"hide_review_notice", forever:"yes"}; jQuery.post( ajaxurl, i, function( e ){jQuery( ".implecode-review" ).hide( "slow" ), jQuery( ".implecode-review-thanks" ).show( "slow" )} )}} ), jQuery( ".implecode-review.is-dismissible" ).on( "click", ".notice-dismiss", function( e ){var i = {action:"hide_review_notice", forever:"yes"}; jQuery.post( ajaxurl, i )} ), jQuery( ".ic-notice.is-dismissible" ).on( "click", ".notice-dismiss", function( e ){var i = jQuery( this ).closest( ".is-dismissible" ).data( "ic_dismissible" ); if ( void 0 !== i ){var t = {action:"hide_ic_notice", element:i}; jQuery.post( ajaxurl, t )}} ), jQuery( function( ){jQuery( ".setting-content input, span.ic_tip" ).tooltip( {position:{my:"left-48 top+37", at:"right+48 bottom-37", collision:"flip"}, track:!0, tooltipClass:"ui-ic-tooltip"} )} ), jQuery( ".add_catalog_media" ).click( function( ){var e = jQuery( this ), i = e.parent( "div" ).children( "#upload_type" ).val( ); return wp.media.editor.send.attachment = function( t, o ){"url" == i?e.parent( "div" ).children( "#uploaded_image" ).val( o.url ):e.parent( "div" ).children( "#uploaded_image" ).val( o.id ), e.prev( "div" ).children( "img" ).attr( "src", o.url ), e.prev( "div" ).children( "img" ).show( ), e.prev( "div" ).children( ".catalog-reset-image-button" ).show( ), e.prev( "div.implecode-admin-media-image.empty" ).removeClass( "empty" ), e.hide( )}, wp.media.editor.open( e ), !1} ), jQuery( ".catalog-reset-image-button" ).click( function( ){var e = jQuery( this ); e.parent( "div" ).prev( "#uploaded_image" ).val( "" ), src = jQuery( "#default" ).val( ), e.next( ".media-image" ).attr( "src", src ), "" != src?e.next( ".media-image" ).show( ):e.next( ".media-image" ).hide( ), e.parent( "div" ).next( ".add_catalog_media" ).show( ), e.parent( ".implecode-admin-media-image" ).addClass( "empty" ), e.hide( )} ), jQuery( "form#post" ).submit( function( e ){jQuery( 'input[name="_price"]' ).length && ( jQuery( 'input[name="_price"]' ).valid( ) || ( e.preventDefault( ), jQuery( "html, body" ).animate( {scrollTop:jQuery( "#_price-error" ).offset( ).top - 200}, 100 ) ) )} ), jQuery( ".ic_autocomplete" ).each( function( ){var e = !1, i = jQuery( this ).data( "ic-autocomplete" ); void 0 !== i && jQuery( this ).autocomplete( {source:i, minLength:0, close:function( ){e = !0, setTimeout( function( ){e = !1}, 300 )}} ).focus( function( ){var i = jQuery( this ).val( ); e || "" != i || jQuery( this ).autocomplete( "search" )} )} )} ), jQuery( document ).ready( function( e ){e.ic = {hooks:{action:{}, filter:{}}, addAction:function( e, i, t ){jQuery.ic.addHook( "action", e, i, t )}, addFilter:function( e, i, t ){jQuery.ic.addHook( "filter", e, i, t )}, doAction:function( e, i ){jQuery.ic.doHook( "action", e, null, i )}, applyFilters:function( e, i, t ){return jQuery.ic.doHook( "filter", e, i, t )}, removeAction:function( e, i ){jQuery.ic.removeHook( "action", e, i )}, removeFilter:function( e, i ){jQuery.ic.removeHook( "filter", e, i )}, addHook:function( e, i, t, o ){void 0 == jQuery.ic.hooks[e][i] && ( jQuery.ic.hooks[e][i] = [] ); var r = jQuery.ic.hooks[e][i]; void 0 == o && ( o = i + "_" + r.length ), jQuery.ic.hooks[e][i].push( {tag:o, callable:t} )}, doHook:function( e, i, t, o ){if ( void 0 != jQuery.ic.hooks[e][i] )for ( var r = jQuery.ic.hooks[e][i], n = 0; n < r.length; n++ )"action" == e?r[n].callable( o ):t = r[n].callable( t, o ); if ( "filter" == e )return t}, removeHook:function( e, i, t ){if ( void 0 != jQuery.ic.hooks[e][i] )for ( var o = jQuery.ic.hooks[e][i], r = o.length - 1; r >= 0; r-- )void 0 != t && t != o[r].tag || o.splice( r, 1 )}}} );